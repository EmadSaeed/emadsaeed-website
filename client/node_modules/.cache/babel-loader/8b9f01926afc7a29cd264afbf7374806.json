{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.replaceColorSvg = exports.downloadSvgImage = exports.loadImage = void 0;\n\nconst Utils_1 = require(\"../../Utils\");\n\nfunction loadImage(source) {\n  return new Promise((resolve, reject) => {\n    if (!source) {\n      reject(\"Error tsParticles - No image.src\");\n      return;\n    }\n\n    const image = {\n      source: source,\n      type: source.substr(source.length - 3)\n    };\n    const img = new Image();\n    img.addEventListener(\"load\", () => {\n      image.element = img;\n      resolve(image);\n    });\n    img.addEventListener(\"error\", () => {\n      reject(`Error tsParticles - loading image: ${source}`);\n    });\n    img.src = source;\n  });\n}\n\nexports.loadImage = loadImage;\n\nasync function downloadSvgImage(source) {\n  if (!source) {\n    throw new Error(\"Error tsParticles - No image.src\");\n  }\n\n  const image = {\n    source: source,\n    type: source.substr(source.length - 3)\n  };\n\n  if (image.type !== \"svg\") {\n    return loadImage(source);\n  }\n\n  const response = await fetch(image.source);\n\n  if (!response.ok) {\n    throw new Error(\"Error tsParticles - Image not found\");\n  }\n\n  image.svgData = await response.text();\n  return image;\n}\n\nexports.downloadSvgImage = downloadSvgImage;\n\nfunction replaceColorSvg(imageShape, color, opacity) {\n  const {\n    svgData\n  } = imageShape;\n\n  if (!svgData) {\n    return \"\";\n  }\n\n  if (svgData.includes(\"fill\")) {\n    const currentColor = /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d.]+%?\\))|currentcolor/gi;\n    return svgData.replace(currentColor, () => (0, Utils_1.getStyleFromHsl)(color, opacity));\n  }\n\n  const preFillIndex = svgData.indexOf(\">\");\n  return `${svgData.substring(0, preFillIndex)} fill=\"${(0, Utils_1.getStyleFromHsl)(color, opacity)}\"${svgData.substring(preFillIndex)}`;\n}\n\nexports.replaceColorSvg = replaceColorSvg;","map":{"version":3,"sources":["/Users/emad/Desktop/My Website 2022/emadsaeed.com/client/node_modules/tsparticles/Shapes/Image/Utils.js"],"names":["Object","defineProperty","exports","value","replaceColorSvg","downloadSvgImage","loadImage","Utils_1","require","source","Promise","resolve","reject","image","type","substr","length","img","Image","addEventListener","element","src","Error","response","fetch","ok","svgData","text","imageShape","color","opacity","includes","currentColor","replace","getStyleFromHsl","preFillIndex","indexOf","substring"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.replaceColorSvg = exports.downloadSvgImage = exports.loadImage = void 0;\nconst Utils_1 = require(\"../../Utils\");\nfunction loadImage(source) {\n    return new Promise((resolve, reject) => {\n        if (!source) {\n            reject(\"Error tsParticles - No image.src\");\n            return;\n        }\n        const image = {\n            source: source,\n            type: source.substr(source.length - 3),\n        };\n        const img = new Image();\n        img.addEventListener(\"load\", () => {\n            image.element = img;\n            resolve(image);\n        });\n        img.addEventListener(\"error\", () => {\n            reject(`Error tsParticles - loading image: ${source}`);\n        });\n        img.src = source;\n    });\n}\nexports.loadImage = loadImage;\nasync function downloadSvgImage(source) {\n    if (!source) {\n        throw new Error(\"Error tsParticles - No image.src\");\n    }\n    const image = {\n        source: source,\n        type: source.substr(source.length - 3),\n    };\n    if (image.type !== \"svg\") {\n        return loadImage(source);\n    }\n    const response = await fetch(image.source);\n    if (!response.ok) {\n        throw new Error(\"Error tsParticles - Image not found\");\n    }\n    image.svgData = await response.text();\n    return image;\n}\nexports.downloadSvgImage = downloadSvgImage;\nfunction replaceColorSvg(imageShape, color, opacity) {\n    const { svgData } = imageShape;\n    if (!svgData) {\n        return \"\";\n    }\n    if (svgData.includes(\"fill\")) {\n        const currentColor = /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d.]+%?\\))|currentcolor/gi;\n        return svgData.replace(currentColor, () => (0, Utils_1.getStyleFromHsl)(color, opacity));\n    }\n    const preFillIndex = svgData.indexOf(\">\");\n    return `${svgData.substring(0, preFillIndex)} fill=\"${(0, Utils_1.getStyleFromHsl)(color, opacity)}\"${svgData.substring(preFillIndex)}`;\n}\nexports.replaceColorSvg = replaceColorSvg;\n"]},"metadata":{},"sourceType":"script"}